<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aurretiko memoriak</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <style>
      .card-img-top {
        width: 100%;
        aspect-ratio: 16/9;
        object-fit: cover;
      }
      [data-bs-theme="light"] .carousel-control-prev-icon,
      [data-bs-theme="light"] .carousel-control-next-icon {
        filter: invert(1) grayscale(1);
      }

      [data-bs-theme="dark"] .carousel-control-prev-icon,
      [data-bs-theme="dark"] .carousel-control-next-icon {
        filter: none;
      }
      .nav-link {
        text-decoration: none !important;
        border-bottom: 2px solid transparent;
        transition: border-color 0.2s;
        font-weight: 600;
      }

      .nav-link.active {
        border-bottom: 2.5px solid #fff;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Gradu Amaierako Lana</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Hasiera</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-none d-lg-block" href="araudia.html"
                >Araudia</a
              >

              <!-- Mobileko submenua -->
              <div class="d-lg-none">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Araudia
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li>
                    <a class="dropdown-item" href="araudia.html#orokorra"
                      >Araudi orokorra</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="araudia.html#iigradua"
                      >II gradua</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="araudia.html#aagradua"
                      >AA gradua</a
                    >
                  </li>
                </ul>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="egutegia.html">Egutegia</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="memoriak.html"
                >Aurretiko memoriak</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="galdetegia.html">Galdetegia</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="harpidetza.html"
                >Informazio harpidetza</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="aboutus.html">About Us</a>
            </li>
            <li class="nav-item d-flex align-items-center ms-2">
              <button
                class="btn btn-outline-light border-2 rounded-pill px-3 py-2 d-flex align-items-center shadow-sm h-auto"
                id="themeToggleBtn"
                type="button"
                onclick="toggleTheme()"
              >
                <span id="themeIcon" class="bi bi-moon fs-5 me-2 lh-1"></span>
                <span class="fw-semibold d-none d-sm-inline lh-1"
                  >Aldatu gaia</span
                >
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container mt-5">
      <h1>Memoriak</h1>
      <h3>Zer da ADDI? Eta zer aurkitu dezakegu bertan?</h3>
      <p>
        ADDI EHU-k sortutako webgunea da, non gradu amaierako lan guztien
        memoriak aurki daitezkeen. Zure lana egin aurretik, aurreko ikasleen
        lanak kontsultatzea lagungarria izan daiteke. Bilaketa iragazki
        ezberdinen bidez egin daiteke (adibidez, argitalpen dataz). Memoriak
        fakultate eta espezialitatearen arabera daude antolatuta, hala nola
        Ingeniaritza Informatika edo Adimen Artifiziala gradukoak informatika
        fakultatean.
      </p>
    </div>

    <div class="container mt-4">
      <div class="row justify-content-center g-4">
        <div class="col-12 col-sm-6 col-md-5">
          <div class="card h-100 shadow rounded">
            <img src="images/ehu.jpg" class="card-img-top" alt="EHU" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">EHUKO IKASLEEN LANAK</h5>
              <a
                href="https://addi.ehu.es/handle/10810/1?locale-attribute=eu"
                class="btn btn-primary mt-auto"
                target="_blank"
                >Lanak hemen</a
              >
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-6 col-md-5">
          <div class="card h-100 shadow rounded">
            <img
              src="images/infor.jpg"
              class="card-img-top"
              alt="Informatika"
            />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">INFORMATIKA FAKULTATEKO IKASLEEN LANAK</h5>
              <a
                href="https://addi.ehu.es/handle/10810/1650"
                class="btn btn-primary mt-auto"
                target="_blank"
                >Lanak hemen</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container mt-5">
      <h3 class="mb-3">Beste urteeko adibideak. Aukeratu gradua:</h3>
      <select
        id="graduaSelect"
        class="form-select mb-4"
        style="max-width: 400px"
      >
        <!-- Options will be populated dynamically -->
      </select>

      <div id="memoriakCarouselContainer"></div>
    </div>

    <div class="container mt-5 mb-5">
      <h3 class="text-center mb-4">Aurretiko GrAL posterrak</h3>
      <p class="text-center mb-4">
        Informatika fakultatean dokumentazio guztiaz gain poster bat entregatu
        behar da. Hona hemen zenbait adibide:
      </p>
      <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
          <div class="card shadow rounded">
            <div class="card-body p-2">
              <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-indicators">
                  <button
                    type="button"
                    data-bs-target="#carouselExampleIndicators"
                    data-bs-slide-to="0"
                    class="active"
                    aria-current="true"
                    aria-label="Slide 1"
                  ></button>
                  <button
                    type="button"
                    data-bs-target="#carouselExampleIndicators"
                    data-bs-slide-to="1"
                    aria-label="Slide 2"
                  ></button>
                  <button
                    type="button"
                    data-bs-target="#carouselExampleIndicators"
                    data-bs-slide-to="2"
                    aria-label="Slide 3"
                  ></button>
                </div>
                <div class="carousel-inner rounded">
                  <div class="carousel-item active">
                    <img
                      src="images/Poster1.jpg"
                      class="d-block w-100"
                      alt="Poster 1"
                      style="max-height: 500px; object-fit: contain"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="images/poster2.jpg"
                      class="d-block w-100"
                      alt="Poster 2"
                      style="max-height: 500px; object-fit: contain"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="images/poster3.jpg"
                      class="d-block w-100"
                      alt="Poster 3"
                      style="max-height: 500px; object-fit: contain"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="images/poster4.jpg"
                      class="d-block w-100"
                      alt="Poster 3"
                      style="max-height: 500px; object-fit: contain"
                    />
                  </div>
                </div>
                <button
                  class="carousel-control-prev"
                  type="button"
                  data-bs-target="#carouselExampleIndicators"
                  data-bs-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#carouselExampleIndicators"
                  data-bs-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script src="js/theme.js"></script>
    <script src="js/memoriak.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const graduaSelect = document.getElementById("graduaSelect");
        const memoriakContainer = document.getElementById(
          "memoriakCarouselContainer"
        );
        if (!window.memoriak || !Array.isArray(memoriak)) return;
        // Rellenar el select de grados
        const graduaSet = new Set(memoriak.map((m) => m.gradua));
        graduaSet.forEach((gradua) => {
          const option = document.createElement("option");
          option.value = gradua.toLowerCase().replace(/ /g, "_");
          option.textContent = gradua;
          graduaSelect.appendChild(option);
        });

        function mostrarMemoriakPorGradua(gradua) {
          memoriakContainer.innerHTML = "";
          const filtradas = memoriak.filter(
            (m) => m.gradua.toLowerCase().replace(/ /g, "_") === gradua
          );
          if (filtradas.length === 0) {
            memoriakContainer.innerHTML =
              '<div class="alert alert-warning">Ez dago memoria aurkitu.</div>';
            return;
          }
          const row = document.createElement("div");
          row.className = "row g-4";
          filtradas.forEach((m) => {
            const col = document.createElement("div");
            col.className = "col-12 col-md-6 col-lg-4";
            // Imagen por grado
            let img = "images/ehu.jpg";
            if (m.gradua.toLowerCase().includes("informatika"))
              img = "images/infor.jpg";
            if (m.gradua.toLowerCase().includes("adimen"))
              img = "images/infor.jpg";
            if (m.gradua.toLowerCase().includes("erizaintza"))
              img = "images/erizaintza.jpg";
            col.innerHTML = `
              <div class="card h-100 shadow-lg border-0 rounded-4 overflow-hidden">
                <img src="${img}" class="card-img-top" alt="${m.gradua}" style="height: 180px; object-fit: cover; background: #f8f9fa;">
                <div class="card-body d-flex flex-column p-4">
                  <h5 class="card-title mb-2 text-primary"><i class="bi bi-journal-text me-2"></i>${m.izenburua}</h5>
                  <p class="card-text mb-1"><span class="badge bg-secondary"><i class="bi bi-mortarboard"></i> ${m.gradua}</span></p>
                  <p class="card-text mb-3"><i class="bi bi-person"></i> <strong>Egilea:</strong> ${m.egilea}</p>
                  <a href="${m.link}" class="btn btn-outline-primary rounded-pill mt-auto fw-semibold" target="_blank">
                    <i class="bi bi-box-arrow-up-right"></i> Ikusi memoria
                  </a>
                </div>
              </div>
            `;
            row.appendChild(col);
          });
          memoriakContainer.appendChild(row);
        }

        if (graduaSelect.options.length > 0) {
          mostrarMemoriakPorGradua(graduaSelect.options[0].value);
        }

        graduaSelect.addEventListener("change", function () {
          mostrarMemoriakPorGradua(this.value);
        });
      });
    </script>
  </body>
</html>
